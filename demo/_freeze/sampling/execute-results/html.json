{
  "hash": "5f2458295bab9798f09ee503e62a295e",
  "result": {
    "engine": "jupyter",
    "markdown": "# Adaptive sampling\n\n\n\nPlot function\n\n::: {#c44bdb93 .cell execution_count=2}\n``` {.julia .cell-code}\nfunction doplot(xy)\n    f = cm.lines(xy)\n    cm.scatter!(xy, color=:darkred, markersize=5)\n    return f\nend;\n```\n:::\n\n\nLinear function\n\n::: {#2157b16f .cell execution_count=3}\n``` {.julia .cell-code}\nsample1d(x -> x, -1, 1) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n![](sampling_files/figure-html/cell-4-output-1.svg){}\n:::\n:::\n\n\nParabola\n\n::: {#40961375 .cell execution_count=4}\n``` {.julia .cell-code}\nsample1d(x -> x^2, -1, 1) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n![](sampling_files/figure-html/cell-5-output-1.svg){}\n:::\n:::\n\n\nCurved in one region\n\n::: {#21e1a19e .cell execution_count=5}\n``` {.julia .cell-code}\nsample1d(x -> x^100, 0, 1) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n![](sampling_files/figure-html/cell-6-output-1.svg){}\n:::\n:::\n\n\nSingular point\n\n::: {#20e57666 .cell execution_count=6}\n``` {.julia .cell-code}\nsample1d(x -> sin(1.0 / x), 0.0, 0.05, maxangle=0.05, npoints=21) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n![](sampling_files/figure-html/cell-7-output-1.svg){}\n:::\n:::\n\n\n::: {#2eb4acb8 .cell execution_count=7}\n``` {.julia .cell-code}\nsample1d(x -> sin(1.0 / x), 0.0, 0.05, yscale=0.05, npoints=21) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n![](sampling_files/figure-html/cell-8-output-1.svg){}\n:::\n:::\n\n\n::: {#7e862bf0 .cell execution_count=8}\n``` {.julia .cell-code}\n@time size(sample1d(x -> sin(1.0 / x), 0.0, 0.05, maxangle=0.1), 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  0.043987 seconds (353.86 k allocations: 7.730 MiB, 18.48% compilation time)\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=9}\n```\n8479\n```\n:::\n:::\n\n\nMultiple curvatures\n\n::: {#0942f31d .cell execution_count=9}\n``` {.julia .cell-code}\nsample1d(x -> sin(30 * sin(x)), 0, 2pi) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n![](sampling_files/figure-html/cell-10-output-1.svg){}\n:::\n:::\n\n\nDiscontinuity\n\n::: {#a58cfb00 .cell execution_count=10}\n``` {.julia .cell-code}\nsample1d(x -> 1 / x, 0, 1, yscale=1e-5) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n![](sampling_files/figure-html/cell-11-output-1.svg){}\n:::\n:::\n\n\nInsert root\n\n::: {#7e698ce1 .cell execution_count=11}\n``` {.julia .cell-code}\nsample1d(x -> (-0.3 + x), -1, 1, ir=true) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n![](sampling_files/figure-html/cell-12-output-1.svg){}\n:::\n:::\n\n\nNon smooth function\n\n::: {#d93839e0 .cell execution_count=12}\n``` {.julia .cell-code}\nsample1d(x -> abs(x), -1, 1) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=13}\n![](sampling_files/figure-html/cell-13-output-1.svg){}\n:::\n:::\n\n\nLocal peak\n\n::: {#6af1b1d0 .cell execution_count=13}\n``` {.julia .cell-code}\na = 0.01\nf = Polynomial(0, 1, d=-1 .. 1) + a^2 / Polynomial(a^2, 0.0, 1.0)\nsample1d(f, -1, 1) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n![](sampling_files/figure-html/cell-14-output-1.svg){}\n:::\n:::\n\n\nCircle\n\n::: {#55357d0b .cell execution_count=14}\n``` {.julia .cell-code}\nu = ParametricCurve(Cos(0 .. 2π), Sin(0 .. 2π))\nsample1d(u, 0, 2pi) |> doplot\n```\n\n::: {.cell-output .cell-output-display execution_count=15}\n![](sampling_files/figure-html/cell-15-output-1.svg){}\n:::\n:::\n\n\n",
    "supporting": [
      "sampling_files"
    ],
    "filters": [],
    "includes": {}
  }
}